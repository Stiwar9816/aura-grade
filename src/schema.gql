# ------------------------------------------------------
# THIS FILE WAS AUTOMATICALLY GENERATED (DO NOT MODIFY)
# ------------------------------------------------------

type Course {
  id: String!
  course_name: String!
  code_course: String!
  users: [User!]
}

type Rubric {
  id: String!
  title: String!
  maxTotalScore: Float!
  user: User!
  criteria: [Criterion!]!
}

type User {
  id: String!
  name: String!
  last_name: String!
  document_type: DocumentType!
  document_num: Float!
  phone: Float!
  email: String!
  password: String!
  isActive: Boolean!
  role: UserRoles!

  """Many-to-many relationship with course table"""
  courses: [Course!]

  """One-to-Many relationship with rubric table"""
  createdRubrics: [Rubric!]
}

"""
Document type allowed in the system [Cedula de ciudadania, Pasaporte, Registro civil, Cedula de extranjeria, Libreta militar, Tarjeta de identidad]
"""
enum DocumentType {
  CITIZENSHIP_CARD
  PASSPORT
  CIVIL_REGISRTRY
  FOREIGNER_CARD
  MILITARY_ID
  IDENTITY_CARD
}

"""Roles allowed in the system [Administrador, Estudiante, Docente]"""
enum UserRoles {
  Administrador
  Estudiante
  Docente
}

type CriterionLevel {
  score: Int!
  description: String!
}

type Criterion {
  id: String!
  title: String!
  maxPoints: Int!

  """Performance levels with description and score."""
  levels: [CriterionLevel!]!
  rubric: Rubric!
}

type Query {
  """Find all users"""
  users: [User!]!

  """Search for a user by a unique ID"""
  userByID(id: String!): User!

  """Search for a user by a unique Email"""
  userByEmail(email: String!): User!
  courses: [Course!]!
  course(id: String!): Course!
  rubrics: [Rubric!]!
  rubric(id: String!): Rubric!
  criteria: [Criterion!]!
  criterion(id: String!): Criterion!
}

type Mutation {
  """Updates the data of a user by a unique ID"""
  updateUser(updateUserInput: UpdateUserInput!): User!

  """Inactivate a user"""
  blockUser(id: String!): User!

  """Reset password user"""
  resetPassword(resetPassword: String!): User!

  """Reset password user authenticed"""
  resetPasswordAuth(newPassword: String!): User!

  """Assign multiple courses to a user"""
  assignCoursesToUser(assignCoursesInput: AssignCoursesInput!): User!
  createCourse(createCourseInput: CreateCourseInput!): Course!
  updateCourse(updateCourseInput: UpdateCourseInput!): Course!
  removeCourse(id: String!): Course!
  createRubric(createRubricInput: CreateRubricInput!): Rubric!
  updateRubric(updateRubricInput: UpdateRubricInput!): Rubric!
  removeRubric(id: String!): Rubric!
  createCriterion(createCriterionInput: CreateCriterionInput!): Criterion!
  updateCriterion(updateCriterionInput: UpdateCriterionInput!): Criterion!
  removeCriterion(id: String!): Criterion!
}

input UpdateUserInput {
  """User name"""
  name: String

  """User Last_name"""
  last_name: String

  """User document type"""
  document_type: DocumentType

  """User document number"""
  document_num: Float

  """User Phone"""
  phone: Float

  """User Email"""
  email: String

  """
  User password that must have a minimum length of 6 digits and the password must have an Uppercase, lowercase letter and a number
  """
  password: String

  """User roles wich can Administrator, User by default takes the user role"""
  role: UserRoles! = Estudiante

  """
  Id automatically generated in integer format eg: 2ad0bc6e-7c63-43bd-ad90-feb291d985b4
  """
  id: String!

  """User roles wich can Administrator, User by default takes the user role"""
  isActive: Boolean!
}

input AssignCoursesInput {
  userId: String!
  courseIds: [String!]!
}

input CreateCourseInput {
  """Name of the course"""
  course_name: String!

  """Code of the course"""
  code_course: String!
}

input UpdateCourseInput {
  """Name of the course"""
  course_name: String

  """Code of the course"""
  code_course: String

  """Id automatically generated in uuid format"""
  id: String!
}

input CreateRubricInput {
  """Title of the rubric"""
  title: String!

  """Max total score of the rubric"""
  maxTotalScore: Float!

  """List of criteria"""
  criteria: [CreateCriterionInput!]

  """Owner User ID"""
  userId: ID!
}

input CreateCriterionInput {
  """Criterion title"""
  title: String!

  """Max points"""
  maxPoints: Int!

  """Criterion levels"""
  levels: [CreateCriterionLevelsInput!]!
}

input CreateCriterionLevelsInput {
  """Score assigned to this level"""
  score: Int!

  """Description of this level"""
  description: String!
}

input UpdateRubricInput {
  """Title of the rubric"""
  title: String

  """Max total score of the rubric"""
  maxTotalScore: Float

  """List of criteria"""
  criteria: [CreateCriterionInput!]

  """Owner User ID"""
  userId: ID

  """
  Id automatically generated in integer format eg: 2ad0bc6e-7c63-43bd-ad90-feb291d985b4
  """
  id: ID!
}

input UpdateCriterionInput {
  """Criterion title"""
  title: String

  """Max points"""
  maxPoints: Int

  """Criterion levels"""
  levels: [CreateCriterionLevelsInput!]

  """
  Id automatically generated in uuid format eg: 2ad0bc6e-7c63-43bd-ad90-feb291d985b4
  """
  id: ID!
  criteria: [UpdateCriterionInput!]
}